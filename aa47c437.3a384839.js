(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{213:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return b}));var a=n(1),o=n(9),r=(n(0),n(252)),l={id:"global-settings",title:"Global Settings",sidebar_label:"Global Settings"},s={id:"basics/global-settings",title:"Global Settings",description:"[![docs-source](https://img.shields.io/badge/source-eigthshift--frontend--libs-yellow?style=for-the-badge&logo=javascript&labelColor=2a2a2a)](https://github.com/infinum/eightshift-frontend-libs)",source:"@site/docs/basics/global-settings.md",permalink:"/eightshift-docs/docs/basics/global-settings",sidebar_label:"Global Settings",sidebar:"docs",previous:{title:"Library",permalink:"/eightshift-docs/docs/basics/library"},next:{title:"Writing Styles",permalink:"/eightshift-docs/docs/basics/writing-styles"}},i=[{value:"Why do we use this?",id:"why-do-we-use-this",children:[]},{value:"How does this work?",id:"how-does-this-work",children:[{value:"Scenario 1:",id:"scenario-1",children:[]},{value:"Scenario 2:",id:"scenario-2",children:[]},{value:"Scenario 3:",id:"scenario-3",children:[]}]}],c={rightToc:i};function b(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/infinum/eightshift-frontend-libs"}),Object(r.b)("img",Object(a.a)({parentName:"a"},{src:"https://img.shields.io/badge/source-eigthshift--frontend--libs-yellow?style=for-the-badge&logo=javascript&labelColor=2a2a2a",alt:"docs-source"})))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"This chapter is only relevant in setups that don't use CSS variables. If you are using CSS variables please skip to the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"blocks-styles"}),"Blocks Styles chapter")," chapter.")),Object(r.b)("p",null,"Ok, this is the part that we are incredibly proud of. Did you know that you can pass values from the JSON manifest or some other file directly to SCSS? Yes, we had the same facial expression when we found out. For this to work, we used Webpack and its excellent features."),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"This feature comes only with the block setup.")),Object(r.b)("p",null,"If you used the ",Object(r.b)("inlineCode",{parentName:"p"},"setup_theme")," setup, you are all set. If not, please visit the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"blocks"}),"blocks chapter")," for more details."),Object(r.b)("h2",{id:"why-do-we-use-this"},"Why do we use this?"),Object(r.b)("p",null,"Because, with dynamic blocks, you must create your blocks. We got tired of copy/pasting styles from JavaScript/PHP/SCSS files. That is why we created this feature to define some global styles in one spot and use them in all three places."),Object(r.b)("h2",{id:"how-does-this-work"},"How does this work?"),Object(r.b)("p",null,"You have the file ",Object(r.b)("inlineCode",{parentName:"p"},"src/Blocks/manifest.json")," that has a key called ",Object(r.b)("inlineCode",{parentName:"p"},"globalVariables"),". We use this key and build the SCSS maps that you can use in your style files."),Object(r.b)("p",null,"Mind-blowing, right?"),Object(r.b)("p",null,"To use it, write your style in the ",Object(r.b)("inlineCode",{parentName:"p"},"manifest.json")," under the ",Object(r.b)("inlineCode",{parentName:"p"},"globalVariables")," key, and you can use that variable in your style files like this:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"$base-col-number: global-settings(maxCols);\n")),Object(r.b)("p",null,"Keep in mind that the ",Object(r.b)("inlineCode",{parentName:"p"},"global-settings")," is a function that checks the ",Object(r.b)("inlineCode",{parentName:"p"},"globalVariables")," map and returns the value depending on the key provided."),Object(r.b)("p",null,"For example, if you have something like this in your ",Object(r.b)("inlineCode",{parentName:"p"},"manifest.json"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "globalVariables": {\n    "maxCols": 12,\n    "gutters": {\n      "none": "0",\n      "default": "25px",\n      "big": "50px"\n    },\n    "colors": [\n      {\n        "name": "Primary",\n        "slug": "primary",\n        "color": "#3E3E3E"\n      },\n      {\n        "name": "Black",\n        "slug": "black",\n        "color": "#000000"\n      },\n    ]\n  }\n}\n')),Object(r.b)("h3",{id:"scenario-1"},"Scenario 1:"),Object(r.b)("p",null,"You type this in you SCSS files:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"$base-col-number: global-settings(maxCols);\n")),Object(r.b)("p",null,"the output will be: ",Object(r.b)("strong",{parentName:"p"},"12")),Object(r.b)("h3",{id:"scenario-2"},"Scenario 2:"),Object(r.b)("p",null,"You type this in you SCSS files:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"$gutters: global-settings(gutters);\n")),Object(r.b)("p",null,"the output will be a map that you need to loop or fetch individual files using ",Object(r.b)("inlineCode",{parentName:"p"},"get-map-strict")," or ",Object(r.b)("inlineCode",{parentName:"p"},"get-map-deep")," function:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),'$gutters: (\n  "none": "0",\n  "default": "25px",\n  "big": "50px"\n);\n')),Object(r.b)("p",null,"so you can call it like this:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"width: get-map-strict($gutters, default);\n")),Object(r.b)("h3",{id:"scenario-3"},"Scenario 3:"),Object(r.b)("p",null,'"I want to output colors, but they don\'t follow the structure you mentioned before. Why is that?"'),Object(r.b)("p",null,"Yes, colors are different because we use this manifest to output the colors to the block editors' color palette. Only the colors are like this."),Object(r.b)("p",null,"Type this into your SCSS files:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"$primary-color: global-settings(colors, primary),\n$black-color: global-settings(colors, black),\n")),Object(r.b)("p",null,"The output will be:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"$primary-color: #3E3E3E;\n$black-color: #000000;\n")),Object(r.b)("p",null,"so you use it the normal SCSS way:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),"color: $primary-color;\nbackground-color: $black-color;\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"If you add/remove/change any value in the ",Object(r.b)("inlineCode",{parentName:"p"},"manifest.json")," file, please restart your Webpack watch because it won't recognize that change.")))}b.isMDXComponent=!0},252:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=o.a.createContext({}),b=function(e){var t=o.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},u=function(e){var t=b(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=b(n),d=a,h=u["".concat(l,".").concat(d)]||u[d]||p[d]||r;return n?o.a.createElement(h,s({ref:t},c,{components:n})):o.a.createElement(h,s({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return o.a.createElement.apply(null,l)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
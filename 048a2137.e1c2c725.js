(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{136:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return p}));var r=t(1),o=t(9),i=(t(0),t(252)),a={id:"webpack",title:"Webpack",sidebar_label:"Webpack"},c={id:"basics/webpack",title:"Webpack",description:"[![docs-source](https://img.shields.io/badge/source-eigthshift--frontend--libs-yellow?style=for-the-badge&logo=javascript&labelColor=2a2a2a)](https://github.com/infinum/eightshift-frontend-libs)",source:"@site/docs/basics/webpack.md",permalink:"/eightshift-docs/docs/basics/webpack",sidebar_label:"Webpack",sidebar:"docs",previous:{title:"Front End",permalink:"/eightshift-docs/docs/basics/frontend"},next:{title:"Library",permalink:"/eightshift-docs/docs/basics/library"}},l=[{value:"Override built-in functionality",id:"override-built-in-functionality",children:[]},{value:"Add a new custom functionality",id:"add-a-new-custom-functionality",children:[]},{value:"Change the default config",id:"change-the-default-config",children:[]},{value:"Add a new entrypoint",id:"add-a-new-entrypoint",children:[]}],s={rightToc:l};function p(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/infinum/eightshift-frontend-libs"}),Object(i.b)("img",Object(r.a)({parentName:"a"},{src:"https://img.shields.io/badge/source-eigthshift--frontend--libs-yellow?style=for-the-badge&logo=javascript&labelColor=2a2a2a",alt:"docs-source"})))),Object(i.b)("p",null,"At its core, Webpack is a static module bundler for modern JavaScript applications. When Webpack processes your application, it internally builds a dependency graph that maps every module your project needs and generates one or more bundles. Learn more about Webpack ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://webpack.js.org/concepts/"}),"here"),"."),Object(i.b)("p",null,"To put it simply, Webpack takes your development files and creates a production-ready version of them based on the config."),Object(i.b)("p",null,"Eightshift Boilerplate comes with everything set for you to use out of the box. In the root of your project, you will find a file called ",Object(i.b)("inlineCode",{parentName:"p"},"webpack.config.js"),". If you open it, you will see that the configuration is pulled from the Eightshift Frontend Libs library."),Object(i.b)("p",null,"You can remove this config and write everything from scratch (keep in mind that this is a lot of work), or you can use our config and extend/remove whatever you need."),Object(i.b)("h2",{id:"override-built-in-functionality"},"Override built-in functionality"),Object(i.b)("p",null,"To remove built-in functionality, add a new array to the config called ",Object(i.b)("inlineCode",{parentName:"p"},"overrides"),".\nIf you provide any of the ",Object(i.b)("inlineCode",{parentName:"p"},"overrides keys"),", it will remove that config from the feature from the build."),Object(i.b)("p",null,"You can't change our config; you can only remove it and make your own."),Object(i.b)("p",null,"Here is a list of all the features that we use and how to remove them."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"\nconst projectConfig = {\n  config: {\n    ... everything from default setup\n  },\n  overrides: [\n    'application',\n    'applicationAdmin',\n    'applicationBlocks',\n    'applicationBlocksEditor',\n    'filename',\n    'cleanWebpackPlugin',\n    'terserPlugin',\n    'browserSyncPlugin',\n    'providePlugin',\n    'manifestPlugin',\n    'miniCssExtractPlugin',\n    'copyWebpackPlugin',\n    'optimizeCSSAssetsPlugin',\n    'js',\n    'scss',\n    'images',\n    'fonts',\n    'runtimeChunk',\n  ],\n}\n")),Object(i.b)("h2",{id:"add-a-new-custom-functionality"},"Add a new custom functionality"),Object(i.b)("p",null,"Let's say you want to add a custom ",Object(i.b)("inlineCode",{parentName:"p"},"html-webpack-plugin")," to the build. You can simply use all the native ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://webpack.js.org/guides/"}),"webpack features"),", like in this example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = (env, argv) => {\n\n  ...\n\n  return {\n    ...project,\n    plugins: [\n      ...project.plugins,\n      new HtmlWebpackPlugin(),\n    ],\n  };\n};\n")),Object(i.b)("h2",{id:"change-the-default-config"},"Change the default config"),Object(i.b)("p",null,"Let's say you want to change what we made and adjust it to your specific needs. In that case, you should remove our functionality by providing the ",Object(i.b)("inlineCode",{parentName:"p"},"overrides")," array and create your implementation. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const BrowserSyncPlugin = require('browser-sync-webpack-plugin');\n\nmodule.exports = (env, argv) => {\n\n  const projectConfig = {\n    config: {\n      ... everything from default setup\n    },\n    overrides: [\n      'browserSyncPlugin', // this removes our configuration.\n    ],\n  };\n\n  // Generate Webpack config for this project using options object.\n  const project = require('./node_modules/@eightshift/frontend-libs/webpack')(argv.mode, projectConfig);\n\n  return {\n    ...project,\n    plugins: [\n      ...project.plugins,\n\n      // This provides your configuration.\n      new BrowserSyncPlugin({\n        host: 'localhost',\n        port: 3000,\n        https: true,\n      }),\n    ],\n  };\n")),Object(i.b)("h2",{id:"add-a-new-entrypoint"},"Add a new entrypoint"),Object(i.b)("p",null,"Let's say you want to add a new, separate JS and/or CSS build for some specific functionality. This functionality may or may not have anything to do with your WordPress theme or plugin, but it needs to be in separate files. To do that you'd need to add a new entrypoint for webpack to build in ",Object(i.b)("inlineCode",{parentName:"p"},"webpack.config.js"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"module.exports = (env, argv) => {\n\n  ...\n\n    return {\n        ...project,\n        entry: {\n            ...project.entry,\n            newBuild: path.resolve(projectConfig.config.projectDir, 'assets', 'application-newBuild.js'),\n        },\n    };\n};\n")),Object(i.b)("p",null,"Next thing you'd do is create ",Object(i.b)("inlineCode",{parentName:"p"},"application-newBuild.js")," in ",Object(i.b)("inlineCode",{parentName:"p"},"assets/")," directory, in which you'd import and JS or SCSS partials. After restarting the build process, the results should be visible in ",Object(i.b)("inlineCode",{parentName:"p"},"public/")," directory as new JS or CSS files."))}p.isMDXComponent=!0},252:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return f}));var r=t(0),o=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=o.a.createContext({}),p=function(e){var n=o.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},u=function(e){var n=p(e.components);return o.a.createElement(s.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},d=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(t),d=r,f=u["".concat(a,".").concat(d)]||u[d]||b[d]||i;return t?o.a.createElement(f,c({ref:n},s,{components:t})):o.a.createElement(f,c({ref:n},s))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=d;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var s=2;s<i;s++)a[s]=t[s];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);